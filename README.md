# Cash Flow Game

Цифровая версия анкет для настольной игры "Cash Flow" с поддержкой real-time взаимодействия между игроками и администратором.

## Описание проекта

Система состоит из двух частей:
- **Frontend**: Vue.js приложение с ролями игрока и администратора
- **Backend**: Node.js сервер с WebSocket поддержкой для real-time коммуникации

## Быстрый старт

### 1. Запуск Backend

```bash
cd backend
npm install
npm run dev
```

Backend будет доступен на `http://localhost:5001`

### 2. Запуск Frontend

```bash
cd frontend
npm install
npm run dev
```

Frontend будет доступен на `http://localhost:5173`

## Функциональность

### Игрок
- Получение уникального кода игрока
- Выбор профессии с предустановленными доходами и расходами
- Управление личными активами, деньгами и обязательствами
- Выполнение игровых действий (покупка/продажа активов, кредиты)
- Отправка запросов на подтверждение администратору

### Администратор
- Вход в панель управления (пароль: `admin123`)
- Просмотр списка подключенных игроков
- Получение уведомлений о действиях игроков
- Подтверждение или отклонение действий игроков
- Управление состоянием игроков

## Технологический стек

### Backend
- Node.js
- Express
- Socket.io
- CORS
- UUID

### Frontend
- Vue.js 3
- TypeScript
- Vite
- Vue Router
- Pinia
- Socket.io Client
- VueUse

## Структура проекта

```
cash_flow/
├── backend/              # Node.js сервер
│   ├── index.js         # Основной файл сервера
│   ├── config.js        # Конфигурация
│   ├── routes/          # API маршруты
│   ├── models/          # Модели данных
│   ├── controllers/     # Контроллеры
│   ├── middleware/      # Промежуточное ПО
│   └── utils/           # Утилиты
├── frontend/            # Vue.js приложение
│   ├── src/
│   │   ├── components/  # Vue компоненты
│   │   ├── views/       # Страницы
│   │   ├── stores/      # Pinia stores
│   │   ├── composables/ # Vue композаблы
│   │   ├── types/       # TypeScript типы
│   │   └── utils/       # Утилиты
│   └── public/          # Статические файлы
└── project.mdc          # Описание проекта
```

## User Flow

1. **Вход на сайт** - система генерирует уникальный код игрока
2. **Выбор профессии** - игрок выбирает из доступных профессий
3. **Формирование карточки** - создается карточка игрока с доходами и расходами
4. **Сохранение данных** - данные сохраняются в сессионном хранилище
5. **Игровое взаимодействие** - игрок выполняет действия, требующие подтверждения
6. **Действия администратора** - администратор подтверждает или отклоняет действия

## Профессии

- **Учитель** - $3,300/мес, денежный поток $2,640
- **Инженер** - $7,500/мес, денежный поток $6,000
- **Медсестра** - $4,600/мес, денежный поток $3,680
- **Полицейский** - $5,000/мес, денежный поток $4,000
- **Бизнесмен** - $13,000/мес, денежный поток $10,400

## Игровые действия

- Покупка активов
- Продажа активов
- Взятие кредитов
- Погашение кредитов

## Хранение данных

Используется сессионное хранилище (in-memory) для:
- Данных игроков
- Игровых сессий
- Ожидающих действий

Данные очищаются при перезапуске сервера.

## Разработка

### Требования
- Node.js 16+
- npm или yarn

### Установка зависимостей
```bash
# Backend
cd backend && npm install

# Frontend
cd frontend && npm install
```

### Запуск в режиме разработки
```bash
# Backend (терминал 1)
cd backend && npm run dev

# Frontend (терминал 2)
cd frontend && npm run dev
```

## Лицензия

ISC
